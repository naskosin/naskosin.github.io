"use strict";(self.webpackChunkmine=self.webpackChunkmine||[]).push([[643],{2643:(zt,v,_)=>{_.r(v),_.d(v,{FeauturesModule:()=>Gt});var g=_(9808),d=_(8460),t=_(2096),f=_(2606),u=_(5760),O=_(5229);function P(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Loading..."),t.qZA())}function w(n,i){1&n&&t._UZ(0,"app-gallery-item",10),2&n&&t.Q6J("fish",i.$implicit)}function A(n,i){if(1&n&&(t.TgZ(0,"div")(1,"ul"),t.YNc(2,w,1,1,"app-gallery-item",9),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.fishes)}}function q(n,i){1&n&&(t.TgZ(0,"div",11)(1,"p")(2,"span"),t._uU(3,"Ooops!"),t.qZA(),t._uU(4," There's no fishes in the dock. Change your bait and try again! "),t.qZA()())}function U(n,i){if(1&n&&(t.TgZ(0,"section",2)(1,"article",3)(2,"div",4),t._UZ(3,"img",5),t.qZA(),t.TgZ(4,"div",6)(5,"h1"),t._uU(6,"Fishing is passion!"),t.qZA(),t.TgZ(7,"p"),t._uU(8," Fish early, and fish late. Many species of fish bite best right at dawn and dusk, in ambient sunlight. During the mid-day hours cloud cover can make for better fishing, and in direct sunlight (especially during the heat of summer) look for areas with shade. Fish often seek out shade when it\u2019s hot and sunny and become more active during the cool hours of the day, just as you or I might. "),t.qZA()()(),t.TgZ(9,"section",7),t.YNc(10,A,3,1,"div",0),t.YNc(11,q,5,0,"div",8),t.qZA()()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.fishes),t.xp6(1),t.Q6J("ngIf",0==e.fishes.length)}}let I=(()=>{class n{constructor(e,o){this.galleryService=e,this.userService=o}ngOnInit(){this.galleryService.getAllCatches$().subscribe(e=>{this.fishes=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.r),t.Y36(u.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gallery"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","section__main",4,"ngIf"],[1,"section__main"],[1,"main"],[1,"main__img__wrapper"],["src","assets/5ce826aedf29c86610716597.jpg","alt","No picture",1,"main__img"],[1,"main__div"],[1,"section__second"],["class","no_fishes",4,"ngIf"],[3,"fish",4,"ngFor","ngForOf"],[3,"fish"],[1,"no_fishes"]],template:function(e,o){1&e&&(t.YNc(0,P,2,0,"div",0),t.YNc(1,U,12,2,"section",1)),2&e&&(t.Q6J("ngIf",!o.fishes),t.xp6(1),t.Q6J("ngIf",o.fishes))},directives:[g.O5,g.sg,O.x],styles:['@import"https://fonts.googleapis.com/css2?family=Libre+Baskerville&family=Lobster&family=Playball&display=swap";main[_ngcontent-%COMP%]{width:100%}.section__main[_ngcontent-%COMP%]{margin:153px auto 0;width:80%}.section__second[_ngcontent-%COMP%]{width:100%;display:inline-block}.main[_ngcontent-%COMP%]{margin:40px 0;display:inline-block;background-color:#fff;border-radius:50px}ul[_ngcontent-%COMP%]{padding:0;margin:0}li[_ngcontent-%COMP%]{text-align:center;display:inline-block;margin:0 0 30px 40px;border-radius:30px 4px 4px;background-color:#87cefa}.article__button[_ngcontent-%COMP%]{margin:0 auto;text-align:center;display:block;padding:5px 50px;border-radius:30px;background-color:#add8e6;top:10px}p[_ngcontent-%COMP%]{font-weight:500;margin:10px 0}.article[_ngcontent-%COMP%]{display:inline-block;width:400px}.article__img__wrapper[_ngcontent-%COMP%]{aspect-ratio:1/1;overflow:hidden;width:350px;height:300px;border-top-left-radius:30px;margin-bottom:5px}.article__img__wrapper[_ngcontent-%COMP%]   .article__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill}.main__img__wrapper[_ngcontent-%COMP%]{height:100%;margin:0;width:60%;overflow:hidden;display:inline-block;border-radius:50px}.main__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:5;text-align:center;font-weight:600;padding:0;margin-top:60px;margin-right:2px;margin-left:80px}.main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;width:80%;margin-top:0;text-align:justify;text-indent:18px}.main__div[_ngcontent-%COMP%]{display:inline-block;width:30%;height:100%;vertical-align:top;background-color:#fff;text-align:right}.no_fishes[_ngcontent-%COMP%]{font-size:30px;color:#8a2be2;text-align:center;margin:50px auto}.no_fishes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:50px;color:#000;font-style:italic}p[_ngcontent-%COMP%]{font-family:Lobster,sans-serif}@media only screen and (max-width: 600px){body[_ngcontent-%COMP%]{background-color:#add8e6}}']}),n})();var m=_(520),M=_(2340),Z=_(4850);const h=M.N.apiUrl;let k=(()=>{class n{constructor(e){this.http=e}getComment(){return this.http.get(`${h}/data/comments`).pipe((0,Z.U)(e=>Object.values(e)))}createComment(e,o){return this.http.post(`${h}/data/comments`,e,o)}editComment(e,o,r){return this.http.put(`${h}/data/comments/${e}`,o,r)}deleteComment(e,o){return this.http.delete(`${h}/data/comments/${e}`,o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x=M.N.apiUrl;let C=(()=>{class n{constructor(e,o){this.userService=e,this.http=o,this.accessToken=""}createCatch(e,o){return this.http.post(`${x}/data/fishes`,e,o)}editCatch(e,o,r){return this.http.put(`${x}/data/fishes/${e}`,o,r)}deleteCatch(e,o){return this.http.delete(`${x}/data/fishes/${e}`,o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(u.K),t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=_(4182);function J(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Loading..."),t.qZA())}const Q=function(n){return["/gallery/editpage",n]};function Y(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).deleteHandler()}),t._uU(2,"Delete article"),t.qZA(),t.TgZ(3,"button",15)(4,"a",16),t._uU(5,"Edit article"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("routerLink",t.VKq(1,Q,e.fish._id))}}function S(n,i){if(1&n&&(t.TgZ(0,"section",9)(1,"article",10)(2,"div",11),t._UZ(3,"img",12),t.qZA(),t.TgZ(4,"div",13)(5,"p")(6,"span"),t._uU(7,"Fish species: "),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"p")(10,"span"),t._uU(11,"Bait: "),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"p")(14,"span"),t._uU(15,"The story: "),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"p")(18,"span"),t._uU(19,"Weight: "),t.qZA(),t._uU(20),t.qZA(),t.YNc(21,Y,6,3,"ng-container",0),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("src",e.fish.img,t.LSH),t.xp6(5),t.hij(" ",e.fish.species,""),t.xp6(4),t.Oqu(e.fish.bait),t.xp6(4),t.Oqu(e.fish.story),t.xp6(4),t.hij("",e.fish.weight," kg."),t.xp6(1),t.Q6J("ngIf",e.user._id==e.fish._ownerId)}}function N(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit;return t.oxw(2).deleteComment(r._id)}),t._uU(1," Delete "),t.qZA()}}function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).$implicit.isInEdit=!0}),t._uU(1," Edit "),t.qZA()}}function G(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",21)(2,"p"),t._uU(3),t.qZA()(),t.TgZ(4,"div",22),t.YNc(5,N,2,0,"button",23),t.YNc(6,F,2,0,"button",24),t.qZA()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(3),t.Oqu(e.comment),t.xp6(2),t.Q6J("ngIf",o.user._id===e._ownerId),t.xp6(1),t.Q6J("ngIf",o.user._id===e._ownerId)}}function z(n,i){1&n&&(t.TgZ(0,"p",34),t._uU(1," Comment is required! "),t.qZA())}function E(n,i){1&n&&(t.TgZ(0,"p",34),t._uU(1," Must be at least 5 characters long! "),t.qZA())}function B(n,i){if(1&n&&(t.ynx(0),t.YNc(1,z,2,0,"p",33),t.YNc(2,E,2,0,"p",33),t.BQk()),2&n){t.oxw();const e=t.MAs(5);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function D(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"form",27,28),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.MAs(3),a=t.oxw().$implicit;return t.oxw(2).editCommentHandler(a._id,r)}),t._UZ(4,"textarea",29,7),t.YNc(6,B,3,2,"ng-container",0),t.TgZ(7,"div",30)(8,"button",31),t._uU(9,"Save"),t.qZA(),t.TgZ(10,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().$implicit.isInEdit=!1}),t._uU(11," Cancel "),t.qZA()()()()()}if(2&n){const e=t.MAs(5),o=t.oxw().$implicit;t.xp6(4),t.Q6J("ngModel",o.comment),t.xp6(2),t.Q6J("ngIf",e.touched&&e.invalid)}}function L(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"p",20),t._uU(3," User: "),t.TgZ(4,"span"),t._uU(5),t.qZA(),t._uU(6,", commented "),t.qZA(),t.YNc(7,G,7,3,"div",0),t.qZA(),t.YNc(8,D,12,2,"div",0),t.qZA()),2&n){const e=i.$implicit;t.xp6(5),t.Oqu(e.email),t.xp6(2),t.Q6J("ngIf",!e.isInEdit),t.xp6(1),t.Q6J("ngIf",e.isInEdit)}}function $(n,i){if(1&n&&(t.TgZ(0,"section"),t.YNc(1,L,9,3,"div",17),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.comments)}}function j(n,i){1&n&&(t.TgZ(0,"div",35)(1,"p"),t._uU(2,"No comments yet!"),t.qZA()())}function H(n,i){1&n&&(t.TgZ(0,"p",34),t._uU(1," Comment is required! "),t.qZA())}function W(n,i){1&n&&(t.TgZ(0,"p",34),t._uU(1," Must be at least 5 characters long! "),t.qZA())}function X(n,i){if(1&n&&(t.ynx(0),t.YNc(1,H,2,0,"p",33),t.YNc(2,W,2,0,"p",33),t.BQk()),2&n){t.oxw();const e=t.MAs(10);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}let T=(()=>{class n{constructor(e,o,r,a,s,p){this.galleryService=e,this.activeSnapshot=o,this.commentService=r,this.userService=a,this.createCatch=s,this.router=p}ngOnInit(){this.user=this.userService.currentUser,this.id=this.activeSnapshot.snapshot.params.fishid,this.galleryService.getCatchOne(this.id).subscribe(o=>{this.fish=o});const e=this.activeSnapshot.snapshot.params.fishid;this.commentService.getComment().subscribe(o=>{this.comments=Object.values(o).filter(r=>e===r.themeId)})}deleteHandler(){console.log("Hi");const e=this.activeSnapshot.snapshot.params.fishid;console.log(e);const o=localStorage.getItem("Token");let r=new m.WM({"X-Authorization":o});confirm("Are you sure to delete?"),this.createCatch.deleteCatch(e,{headers:r}).subscribe(a=>{console.log(a)}),setTimeout(()=>{this.router.navigate(["/gallery"])},200)}commentHandler(e){this.id=this.activeSnapshot.snapshot.params.fishid;const o=localStorage.getItem("Token");let r=new m.WM({"X-Authorization":o});const s=this.userService.currentUser.email,{comment:p}=e.value;this.commentService.createComment({comment:p,email:s,themeId:this.id},{headers:r}).subscribe(l=>{console.log(Object.values(l))}),e.reset(),setTimeout(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate([`gallery/${this.id}`]))},500)}deleteComment(e){const o=localStorage.getItem("Token");let r=new m.WM({"X-Authorization":o});this.commentService.deleteComment(e,{headers:r}).subscribe(a=>console.log("Delete")),setTimeout(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate([`gallery/${this.id}`]))},500)}editCommentHandler(e,o){const r=localStorage.getItem("Token");let a=new m.WM({"X-Authorization":r});const s=this.userService.currentUser.email,{comment:p}=o.value;console.log(o.value),this.commentService.editComment(e,{comment:p,email:s,themeId:this.id,isInEdit:!1},{headers:a}).subscribe(l=>console.log(l)),setTimeout(()=>{this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate([`gallery/${this.id}`]))},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.r),t.Y36(d.gz),t.Y36(k),t.Y36(u.K),t.Y36(C),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-galler-details"]],decls:14,vars:6,consts:[[4,"ngIf"],["class","section__main",4,"ngIf"],["class","no__comments",4,"ngIf"],[1,"container"],[1,"form__container",3,"ngSubmit"],["createCommentForm","ngForm"],["type","text","id","uses","placeholder","This day","name","comment","ngModel","","required","","minlength","10"],["themeComment","ngModel"],[3,"disabled"],[1,"section__main"],[1,"main"],[1,"main__img__wrapper"],["alt","No picture",1,"main__img",3,"src"],[1,"details__div"],[1,"delete",3,"click"],[1,"edit"],[3,"routerLink"],["class","comments",4,"ngFor","ngForOf"],[1,"comments"],[1,"comment"],[1,"comment__user"],[1,"comment__text"],[1,"comments__buttons"],["class","comments__buttons__delete",3,"click",4,"ngIf"],["class","comments__buttons__edit",3,"click",4,"ngIf"],[1,"comments__buttons__delete",3,"click"],[1,"comments__buttons__edit",3,"click"],[1,"edit__mode",3,"ngSubmit"],["editPostForm","ngForm"],["type","text","id","uses","placeholder","This day","name","comment","ngModel","","required","","minlength","10",3,"ngModel"],[1,"comments__buttons__edit__mode"],[1,"comments__buttons__edit__mode__save"],[1,"comments__buttons__edit__mode__cancel",3,"click"],["id","input-error",4,"ngIf"],["id","input-error"],[1,"no__comments"]],template:function(e,o){if(1&e){const r=t.EpF();t.YNc(0,J,2,0,"div",0),t.YNc(1,S,22,6,"section",1),t.YNc(2,$,2,1,"section",0),t.YNc(3,j,3,0,"div",2),t.TgZ(4,"div",3)(5,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(r);const s=t.MAs(6);return o.commentHandler(s)}),t.TgZ(7,"h2"),t._uU(8,"Comment"),t.qZA(),t._UZ(9,"textarea",6,7),t.YNc(11,X,3,2,"ng-container",0),t.TgZ(12,"button",8),t._uU(13,"Comment"),t.qZA()()()}if(2&e){const r=t.MAs(6),a=t.MAs(10);t.Q6J("ngIf",!o.fish),t.xp6(1),t.Q6J("ngIf",!!o.fish),t.xp6(1),t.Q6J("ngIf",o.comments),t.xp6(1),t.Q6J("ngIf",0===(null==o.comments?null:o.comments.length)),t.xp6(8),t.Q6J("ngIf",a.touched&&a.invalid),t.xp6(1),t.Q6J("disabled",r.invalid)}},directives:[g.O5,d.yS,g.sg,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,c.Q7,c.wO],styles:['@import"https://fonts.googleapis.com/css2?family=Libre+Baskerville&family=Lobster&family=Playball&display=swap";.details__div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:30px;display:inline-block;width:80%;font-size:20px;text-align:justify;text-indent:18px;color:#fff}.details__div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-of-type{padding-bottom:40px}span[_ngcontent-%COMP%]{font-style:italic;font-size:25px;text-align:left;color:#000;font-weight:700}.sectionmain[_ngcontent-%COMP%]{margin:160px auto;width:80%;display:flex;background-color:#87cefa;border-radius:50px}.main__img__wrapper[_ngcontent-%COMP%]{height:100%;margin:0;width:60%;overflow:hidden;display:inline-block;border-radius:50px}.main__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:5;text-align:left;font-weight:600;padding:0;margin-top:60px;margin-right:2px;margin-left:80px}.details__div[_ngcontent-%COMP%]{display:inline-block;width:35%;background-color:#87cefa;border-radius:50px;vertical-align:top;text-align:right;margin-top:0;padding:30px 30px 0}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.edit[_ngcontent-%COMP%]{background-color:#0bc20b;margin:10px;padding:5px;border-radius:10px}.details__div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-wrap:break-word;text-align:justify}.delete[_ngcontent-%COMP%]{background-color:red;margin:10px;padding:5px;border-radius:10px;color:#fff}.comments[_ngcontent-%COMP%]{width:50%;height:200px;background-color:#d3d3d3;border-radius:30px;margin:20px auto}.comment[_ngcontent-%COMP%]{display:flex;flex-direction:column}.comment__user[_ngcontent-%COMP%]{background-color:gray;text-indent:20px;padding:20px;margin:0;border-top-left-radius:30px;border-top-right-radius:30px}.comment__user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#fff}.comment__text[_ngcontent-%COMP%]{background-color:#d3d3d3;text-indent:30px;font-size:20px;font-style:italic}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:30px;background-color:#87cefa;width:50%;justify-content:center;margin:0 auto}.form__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:80%;margin:0 auto}.form__container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;margin:30px auto;height:150px}.form__container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px;padding:10px 20px;border-radius:30px;text-align:left}#input-error[_ngcontent-%COMP%]{background:rgb(231,94,122);color:#fff;padding:3px;border:solid 2px crimson;border-radius:5px}.no__comments[_ngcontent-%COMP%]{margin-left:300px;font-size:30px}.edit__mode[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;flex-wrap:wrap;width:100%}.edit__mode[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:80%}.comments__buttons__edit__mode__save[_ngcontent-%COMP%]{background-color:#0a720a;margin:10px;padding:5px 15px;border-radius:10px;color:#fff}.comments__buttons__edit__mode__cancel[_ngcontent-%COMP%]{margin:10px;padding:5px 15px;border-radius:10px}.comments__buttons[_ngcontent-%COMP%]{margin-top:45px;margin-left:550px;padding:5px 15px}.comments__buttons__delete[_ngcontent-%COMP%]{background-color:red;margin:10px;padding:5px;border-radius:10px;color:#fff}.comments__buttons__edit[_ngcontent-%COMP%]{background-color:#0bc20b;margin:10px;padding:5px 15px;border-radius:10px}p[_ngcontent-%COMP%]{font-family:Lobster,sans-serif}']}),n})();function K(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Species is required!"),t.qZA())}function R(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 5 characters long!"),t.qZA())}function V(n,i){if(1&n&&(t.ynx(0),t.YNc(1,K,2,0,"p",21),t.YNc(2,R,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(11);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function tt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Bait is required!"),t.qZA())}function et(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 5 characters long!"),t.qZA())}function nt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,tt,2,0,"p",21),t.YNc(2,et,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(16);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function it(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Img is required!"),t.qZA())}function ot(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 10 characters long!"),t.qZA())}function rt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must begin with http:// or https://!"),t.qZA())}function ct(n,i){if(1&n&&(t.ynx(0),t.YNc(1,it,2,0,"p",21),t.YNc(2,ot,2,0,"p",21),t.YNc(3,rt,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(21);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function at(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Story is required!"),t.qZA())}function st(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 50 characters long!"),t.qZA())}function lt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,at,2,0,"p",21),t.YNc(2,st,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(26);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function _t(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Weight is required!"),t.qZA())}function pt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be positive number!"),t.qZA())}function gt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,_t,2,0,"p",21),t.YNc(2,pt,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(31);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}let dt=(()=>{class n{constructor(e,o,r){this.userService=e,this.createService=o,this.router=r}ngAfterViewInit(){}ngOnInit(){}formHandler(e){const o=localStorage.getItem("Token");let r=new m.WM({"X-Authorization":o});this.createService.createCatch(e.value,{headers:r}).subscribe(a=>{}),e.reset(),setTimeout(()=>{this.router.navigate(["/gallery"])},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.K),t.Y36(C),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-catch"]],decls:35,vars:6,consts:[[1,"createcontainerinfo"],["src","/assets/01-azores-fishing.jpg","alt","image"],[1,"containertext",3,"ngSubmit"],["createCatchForm","ngForm"],["for","title"],["type","text","id","title","placeholder","Trout","name","species","value","","ngModel","","required","","minlength","5"],["themeSpecies","ngModel"],[4,"ngIf"],["for","painting-tech"],["type","text","id","painting-tech","placeholder","Lure","name","bait","value","","ngModel","","required","","minlength","5"],["themeBait","ngModel"],["for","picture"],["type","text","id","picture","placeholder","http://...","name","img","value","","ngModel","","pattern","(http:|https:)+[^\\s]+[\\w]","required","","minlength","10"],["themeImg","ngModel"],["for","certificate"],["type","text","placeholder","This day...","id","certificate","rows","5","name","story","required","","ngModel","","minlength","50"],["themeStory","ngModel"],["for","weight"],["type","text","id","weight","placeholder","1","name","weight","value","","required","","ngModel","","pattern","[1-9][0-9]*"],["themeWeight","ngModel"],[1,"button",3,"disabled"],["id","input-error",4,"ngIf"],["id","input-error"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2,3),t.NdJ("ngSubmit",function(){t.CHM(r);const s=t.MAs(3);return o.formHandler(s)}),t.TgZ(4,"h2"),t._uU(5,"Create Catch"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Add your fish of lifetime!"),t.qZA(),t.TgZ(8,"label",4),t._uU(9,"Species:"),t.qZA(),t._UZ(10,"input",5,6),t.YNc(12,V,3,2,"ng-container",7),t.TgZ(13,"label",8),t._uU(14,"Bait:"),t.qZA(),t._UZ(15,"input",9,10),t.YNc(17,nt,3,2,"ng-container",7),t.TgZ(18,"label",11),t._uU(19,"Fish picture:"),t.qZA(),t._UZ(20,"input",12,13),t.YNc(22,ct,4,3,"ng-container",7),t.TgZ(23,"label",14),t._uU(24,"Story:"),t.qZA(),t._UZ(25,"textarea",15,16),t.YNc(27,lt,3,2,"ng-container",7),t.TgZ(28,"label",17),t._uU(29,"Weight of the fish:"),t.qZA(),t._UZ(30,"input",18,19),t.YNc(32,gt,3,2,"ng-container",7),t.TgZ(33,"button",20),t._uU(34,"Create"),t.qZA()()()}if(2&e){const r=t.MAs(3),a=t.MAs(11),s=t.MAs(16),p=t.MAs(21),l=t.MAs(26),y=t.MAs(31);t.xp6(12),t.Q6J("ngIf",a.touched&&a.invalid),t.xp6(5),t.Q6J("ngIf",s.touched&&s.invalid),t.xp6(5),t.Q6J("ngIf",p.touched&&p.invalid),t.xp6(5),t.Q6J("ngIf",l.touched&&l.invalid),t.xp6(5),t.Q6J("ngIf",y.touched&&y.invalid),t.xp6(1),t.Q6J("disabled",r.invalid)}},directives:[c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,c.Q7,c.wO,g.O5,c.c5],styles:[".createcontainer[_ngcontent-%COMP%]{width:70%;height:calc();margin:150px auto 200px;padding-top:30px;padding-bottom:20px;border:10ch}.createcontainerinfo[_ngcontent-%COMP%]{background-color:#fff;width:70%;height:80%;display:grid;grid-template-columns:40% 60%;place-items:center;line-height:1.5;margin:160px auto 100px;box-shadow:0 20px 30px #0000002f;border-style:solid;border-color:#87cefa;border-radius:25px;background-color:#87cefa}.createcontainerinfo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25px}.container[_ngcontent-%COMP%]{background-color:#fff;width:600px;height:450px;display:grid;grid-template-columns:.7fr 1fr;place-items:center;line-height:1.5;left:28%}.containertext[_ngcontent-%COMP%]{padding:10px;text-align:center;width:60%}.containertext[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:1.6rem;text-align:center;color:#1a2250}.containertext[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:14px;color:#3b4169;margin:2px 0 15px}.containertext[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .containertext[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%], .containertext[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;border:none;padding:12px;border-radius:3px}.containertext[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{border:solid 2px lightskyblue}label[_ngcontent-%COMP%]{color:#190c4d;transform:translateY(-1.5rem);font-size:14px;font-family:Barlow,sans-serif;font-weight:700}.containertext[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:2px solid lightskyblue;margin:3px 0 7px;font-size:.8rem;color:#656880}.containertext[_ngcontent-%COMP%] > .createbtn[_ngcontent-%COMP%]{background-color:#19bec2;display:block;color:#fff;font-size:1rem;cursor:pointer;margin-top:1.6em;box-shadow:0 5px 15px #89caff94;transition:box-shadow .3s ease-in-out}.button[_ngcontent-%COMP%]{margin-left:15px;background-color:#19bec2;padding:20px}.button[_ngcontent-%COMP%]:disabled{margin-left:15px;background-color:#d3d3d3;padding:20px}#input-error[_ngcontent-%COMP%]{background:rgb(231,94,122);color:#fff;padding:3px;border:solid 2px crimson;border-radius:5px;margin-left:30px}"]}),n})();const mt=["createCatchForm"];function ut(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Species is required!"),t.qZA())}function ft(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 5 characters long!"),t.qZA())}function ht(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ut,2,0,"p",21),t.YNc(2,ft,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(13);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function xt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Bait is required!"),t.qZA())}function Ct(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 5 characters long!"),t.qZA())}function bt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,xt,2,0,"p",21),t.YNc(2,Ct,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(18);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function vt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Img is required!"),t.qZA())}function Mt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 10 characters long!"),t.qZA())}function Zt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must begin with http:// or https://!"),t.qZA())}function Tt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,vt,2,0,"p",21),t.YNc(2,Mt,2,0,"p",21),t.YNc(3,Zt,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(23);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function yt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Story is required!"),t.qZA())}function Ot(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be at least 50 characters long!"),t.qZA())}function Pt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,yt,2,0,"p",21),t.YNc(2,Ot,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(28);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.minlength)}}function wt(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Weight is required!"),t.qZA())}function At(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Must be positive number!"),t.qZA())}function qt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,wt,2,0,"p",21),t.YNc(2,At,2,0,"p",21),t.BQk()),2&n){t.oxw();const e=t.MAs(33);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._uU(1," Loading... "),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.TgZ(4,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.MAs(5);return t.oxw().formHandler(r)}),t.TgZ(6,"h2"),t._uU(7,"Edit Catch"),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Add your fish of lifetime!"),t.qZA(),t.TgZ(10,"label",5),t._uU(11,"Species:"),t.qZA(),t._UZ(12,"input",6,7),t.YNc(14,ht,3,2,"ng-container",0),t.TgZ(15,"label",8),t._uU(16,"Bait:"),t.qZA(),t._UZ(17,"input",9,10),t.YNc(19,bt,3,2,"ng-container",0),t.TgZ(20,"label",11),t._uU(21,"Fish picture:"),t.qZA(),t._UZ(22,"input",12,13),t.YNc(24,Tt,4,3,"ng-container",0),t.TgZ(25,"label",14),t._uU(26,"Story:"),t.qZA(),t._UZ(27,"textarea",15,16),t.YNc(29,Pt,3,2,"ng-container",0),t.TgZ(30,"label",17),t._uU(31,"Weight of the fish:"),t.qZA(),t._UZ(32,"input",18,19),t.YNc(34,qt,3,2,"ng-container",0),t.TgZ(35,"button",20),t._uU(36,"Edit catch"),t.qZA()()()()}if(2&n){const e=t.MAs(5),o=t.MAs(13),r=t.MAs(18),a=t.MAs(23),s=t.MAs(28),p=t.MAs(33),l=t.oxw();t.xp6(12),t.Q6J("ngModel",null==l.fish?null:l.fish.species),t.xp6(2),t.Q6J("ngIf",o.touched&&o.invalid),t.xp6(3),t.Q6J("ngModel",null==l.fish?null:l.fish.bait),t.xp6(2),t.Q6J("ngIf",r.touched&&r.invalid),t.xp6(3),t.Q6J("ngModel",null==l.fish?null:l.fish.img),t.xp6(2),t.Q6J("ngIf",a.touched&&a.invalid),t.xp6(3),t.Q6J("ngModel",null==l.fish?null:l.fish.story),t.xp6(2),t.Q6J("ngIf",s.touched&&s.invalid),t.xp6(3),t.Q6J("ngModel",l.fish.weight),t.xp6(2),t.Q6J("ngIf",p.touched&&p.invalid),t.xp6(1),t.Q6J("disabled",e.invalid)}}let It=(()=>{class n{constructor(e,o,r,a,s){this.userService=e,this.activeSnapshot=o,this.galleryService=r,this.createService=a,this.router=s}ngOnInit(){this.id=this.activeSnapshot.snapshot.params.fishid,this.galleryService.getCatchOne(this.id).subscribe(e=>{this.fish=e})}formHandler(e){this.id=this.activeSnapshot.snapshot.params.fishid;const o=localStorage.getItem("Token");let r=new m.WM({"X-Authorization":o});this.createService.editCatch(this.id,e.value,{headers:r}).subscribe(a=>{}),setTimeout(()=>{this.router.navigate([`gallery/${this.id}`])},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.K),t.Y36(d.gz),t.Y36(f.r),t.Y36(C),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-page"]],viewQuery:function(e,o){if(1&e&&t.Gf(mt,5),2&e){let r;t.iGM(r=t.CRH())&&(o.createCatchForm=r.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"createcontainerinfo"],["src","/assets/01-azores-fishing.jpg","alt","image"],[1,"containertext",3,"ngSubmit"],["createCatchForm","ngForm"],["for","title"],["type","text","id","title","placeholder","Spring in the garden","name","species","ngModel","","required","","minlength","5",3,"ngModel"],["themeSpecies","ngModel"],["for","bait"],["type","text","id","bait","placeholder","Oil paints","name","bait","value","","required","","minlength","5",3,"ngModel"],["themeBait","ngModel"],["for","picture"],["type","text","id","picture","placeholder","http://...","name","img","value","","ngModel","","pattern","(http:|https:)+[^\\s]+[\\w]","required","","minlength","10",3,"ngModel"],["themeImg","ngModel"],["for","story"],["type","text","id","story","rows","5","name","story","ngModel","","required","","minlength","50",3,"ngModel"],["themeStory","ngModel"],["for","weight"],["type","text","id","weight","placeholder","1","name","weight","value","","ngModel","","pattern","[1-9][0-9]*","required","",3,"ngModel"],["themeWeight","ngModel"],[1,"button",3,"disabled"],["id","input-error",4,"ngIf"],["id","input-error"]],template:function(e,o){1&e&&t.YNc(0,Ut,37,11,"div",0),2&e&&t.Q6J("ngIf",!!o.fish)},directives:[g.O5,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,c.Q7,c.wO,c.c5],styles:[".createcontainer[_ngcontent-%COMP%]{width:70%;height:calc();margin:150px auto 200px;padding-top:30px;padding-bottom:20px;border:10ch}.createcontainerinfo[_ngcontent-%COMP%]{background-color:#fff;width:70%;height:80%;display:grid;grid-template-columns:40% 60%;place-items:center;line-height:1.5;margin:160px auto 100px;box-shadow:0 20px 30px #0000002f;border-style:solid;border-color:#87cefa;border-radius:25px;background-color:#87cefa}.createcontainerinfo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25px}.container[_ngcontent-%COMP%]{background-color:#fff;width:600px;height:450px;display:grid;grid-template-columns:.7fr 1fr;place-items:center;line-height:1.5;left:28%}.containertext[_ngcontent-%COMP%]{padding:10px;text-align:center;width:60%}.containertext[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:1.6rem;text-align:center;color:#1a2250}.containertext[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:14px;color:#3b4169;margin:2px 0 15px}.containertext[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .containertext[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%], .containertext[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;border:none;padding:12px;border-radius:3px}.containertext[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{border:solid 2px lightskyblue}label[_ngcontent-%COMP%]{color:#190c4d;transform:translateY(-1.5rem);font-size:14px;font-family:Barlow,sans-serif;font-weight:700}.containertext[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:2px solid lightskyblue;margin:3px 0 7px;font-size:.8rem;color:#656880}.button[_ngcontent-%COMP%]{margin-left:15px;background-color:#19bec2;padding:20px}.button[_ngcontent-%COMP%]:disabled{margin-left:15px;background-color:#d3d3d3;padding:20px}#input-error[_ngcontent-%COMP%]{background:rgb(231,94,122);color:#fff;padding:3px;border:solid 2px crimson;border-radius:5px;margin-left:15px}"]}),n})();function kt(n,i){if(1&n&&(t.TgZ(0,"article",3)(1,"p",4)(2,"span",5),t._uU(3,"Number: "),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._UZ(6,"img",7),t.qZA(),t.TgZ(7,"p",8)(8,"span",9),t._uU(9,"Weight: "),t.qZA(),t._uU(10),t.qZA()()),2&n){const e=i.$implicit,o=i.index;t.xp6(4),t.Oqu(o+1),t.xp6(2),t.Q6J("src",e.img,t.LSH),t.xp6(4),t.Oqu(e.weight)}}function Jt(n,i){if(1&n&&(t.TgZ(0,"section"),t.YNc(1,kt,11,3,"article",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.fishes)}}function Qt(n,i){1&n&&(t.TgZ(0,"div",10)(1,"p")(2,"span"),t._uU(3,"Ooops!"),t.qZA(),t._uU(4," There's no pretenders for top five, be the first!"),t.qZA()())}let Yt=(()=>{class n{constructor(e){this.galleryService=e}ngOnInit(){this.galleryService.gettopFive().subscribe(e=>{this.fishes=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-top-five"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no_fishes",4,"ngIf"],["class","top",4,"ngFor","ngForOf"],[1,"top"],[1,"top__description"],[1,"top__span"],[1,"top__img__wrapper"],["alt","",3,"src"],[1,"top__description__bottom"],[1,"top__span__bottom"],[1,"no_fishes"]],template:function(e,o){1&e&&(t.YNc(0,Jt,2,1,"section",0),t.YNc(1,Qt,5,0,"div",1)),2&e&&(t.Q6J("ngIf",o.fishes),t.xp6(1),t.Q6J("ngIf",0==o.fishes.length))},directives:[g.O5,g.sg],styles:["section[_ngcontent-%COMP%]{margin-top:170px}.top[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:45%;margin:20px auto}.top__img__wrapper[_ngcontent-%COMP%]{width:100%;border-radius:30px}.top__img__wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill;border:solid 1px grey;border-radius:30px}.top__description[_ngcontent-%COMP%]{text-decoration:underline;font-style:bold;font-size:40px;text-align:left;color:#000;text-indent:50px}.top__span[_ngcontent-%COMP%], .top__span__bottom[_ngcontent-%COMP%]{font-style:italic;font-size:40px;text-align:left;color:#000}.top__description__bottom[_ngcontent-%COMP%]{font-style:bold;font-size:40px;text-align:left;color:#000;margin-right:70px;text-indent:250px}.no_fishes[_ngcontent-%COMP%]{margin:250px 0 300px 100px}.no_fishes[_ngcontent-%COMP%]{font-size:30px;color:#e22b2b}.no_fishes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:50px;color:#000;font-style:italic}"]}),n})();var b=_(7574);const Ft=d.Bz.forChild([{path:"",pathMatch:"full",component:I},{path:":fishid",component:T,canActivate:[b.a]},{path:"fish/:fishid",component:T,canActivate:[b.a]},{path:"catch/create",component:dt,canActivate:[b.a]},{path:"editpage/:fishid",component:It,canActivate:[(()=>{class n{constructor(e,o,r){this.userService=e,this.route=o,this.galleryServ=r}canActivate(e,o){const r=this.userService.currentUser._id,a=e.paramMap.get("fishid");return this.galleryServ.getCatchOne(a).pipe((0,Z.U)(s=>r==s._ownerId||(alert("You're not author of this catch!"),this.route.createUrlTree(["/gallery"]))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(u.K),t.LFG(d.F0),t.LFG(f.r))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"catch/topFive",component:Yt}]);let Gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,d.Bz,Ft,c.UX,c.u5]]}),n})()}}]);